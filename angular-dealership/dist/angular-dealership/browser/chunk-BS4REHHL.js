import{a as k}from"./chunk-KH7BRNI5.js";import{a as O}from"./chunk-LOD6BFC4.js";import{a as R}from"./chunk-RW3XF6YD.js";import{B as d,E as l,G as i,H as r,I as C,J as _,K as f,L as c,N as a,O as m,W as x,ba as g,ca as S,da as w,ha as b,ia as E,ja as V,ka as y,ma as N,o as u,p as v,t as I,u as o,v as p,x as D}from"./chunk-UUQ4PDQR.js";var L=(n,t)=>["/dealerships",n,"cars",t],M=(n,t)=>["/dealerships",n,"cars",t,"edit"];function A(n,t){if(n&1){let e=_();i(0,"tr")(1,"td"),a(2),r(),i(3,"td"),a(4),r(),i(5,"td")(6,"a",1),a(7,"View"),r()(),i(8,"td")(9,"a",1),a(10,"Edit"),r()(),i(11,"td")(12,"button",7),f("click",function(){let h=u(e).$implicit,T=c(3);return v(T.onDelete(h))}),a(13,"Delete"),r()()()}if(n&2){let e=t.$implicit,s=c(3);o(2),m(e.brandName),o(2),m(e.modelName),o(2),l("routerLink",x(4,L,s.dealershipID,e.id)),o(3),l("routerLink",x(7,M,s.dealershipID,e.id))}}function j(n,t){if(n&1&&(i(0,"table")(1,"thead")(2,"tr")(3,"th"),a(4,"Brand Name"),r(),i(5,"th"),a(6,"Model name"),r(),i(7,"th"),a(8,"View"),r(),i(9,"th"),a(10,"Edit"),r(),i(11,"th"),a(12,"Delete"),r()()(),i(13,"tbody"),d(14,A,14,10,"tr",8),r()()),n&2){let e=c(2);o(14),l("ngForOf",e.carItems())}}function U(n,t){n&1&&(i(0,"div")(1,"p"),a(2,"No cars available for this dealership."),r()())}function $(n,t){if(n&1){let e=_();i(0,"article")(1,"header")(2,"h2"),a(3),r()(),i(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),a(9," Location: "),i(10,"span"),a(11),r()()()()(),d(12,j,15,1,"table",0),i(13,"div")(14,"button",7),f("click",function(){u(e);let h=c();return v(h.generateUUIDAndNavigate())}),a(15,"Create new dealership"),r()(),d(16,U,3,0,"div",0),C(17,"router-outlet"),r()()}if(n&2){let e=c();o(3),m(e.dealership.name),o(8),m(e.dealership.location),o(),l("ngIf",e.carItems().length>0),o(4),l("ngIf",e.carItems().length===0)}}var F=class n{constructor(t,e,s,h){this.service=t;this.route=e;this.router=s;this.carService=h}uuid;dealership;dealershipID;carItems=I([]);ngOnInit(){this.dealershipID=this.route.snapshot.paramMap.get("dealershipID"),this.route.params.subscribe(t=>{this.service.getDealership(t.dealershipID).subscribe(e=>{this.dealership=e,this.loadCars()})})}loadCars(){this.carService.getCars(this.dealershipID).subscribe(t=>{t&&t.cars?this.carItems.set(t.cars):console.log("No cars found for this dealership")})}generateUUIDAndNavigate(){this.uuid=k(),this.router.navigate(["/dealerships",this.dealershipID,"cars",this.uuid,"create"])}onDelete(t){this.dealershipID&&t.id&&this.carService.deleteCar(this.dealershipID,t.id).subscribe(()=>this.ngOnInit())}static \u0275fac=function(e){return new(e||n)(p(R),p(b),p(V),p(O))};static \u0275cmp=D({type:n,selectors:[["app-dealership-view"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"routerLink"],[1,"container"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-6"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(e,s){e&1&&(d(0,$,18,4,"article",0),i(1,"div")(2,"button",1),a(3,"Return"),r()()),e&2&&(l("ngIf",s.dealership),o(2),l("routerLink","/dealerships/"))},dependencies:[N,E,y,w,g,S],encapsulation:2})};export{F as DealershipViewComponent};
