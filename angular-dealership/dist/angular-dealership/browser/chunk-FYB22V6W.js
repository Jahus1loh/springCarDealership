import{a as y}from"./chunk-KH7BRNI5.js";import{a as L}from"./chunk-RW3XF6YD.js";import{B as c,E as o,G as n,H as t,J as D,K as d,L as m,N as r,O as g,V as h,ba as x,ca as b,da as C,ja as E,ka as I,ma as S,o as f,p as _,u as a,v as p,x as v}from"./chunk-UUQ4PDQR.js";var O=i=>["/dealerships",i],F=i=>["/dealerships",i,"edit"];function N(i,s){if(i&1){let e=D();n(0,"tr")(1,"td"),r(2),t(),n(3,"td")(4,"a",5),r(5,"View"),t()(),n(6,"td")(7,"a",5),r(8,"Edit"),t()(),n(9,"td")(10,"button",6),d("click",function(){let u=f(e).$implicit,w=m(2);return _(w.onDelete(u))}),r(11,"Delete"),t()()()}if(i&2){let e=s.$implicit;a(2),g(e.name),a(2),o("routerLink",h(3,O,e.id)),a(3),o("routerLink",h(5,F,e.id))}}function M(i,s){if(i&1&&(n(0,"table")(1,"thead")(2,"tr")(3,"th"),r(4,"Name"),t(),n(5,"th"),r(6,"View"),t(),n(7,"th"),r(8,"Edit"),t(),n(9,"th"),r(10,"Delete"),t()()(),n(11,"tbody"),c(12,N,12,7,"tr",4),t()()),i&2){let e=m();a(12),o("ngForOf",e.dealerships.dealerships)}}var k=class i{constructor(s,e){this.service=s;this.router=e}uuid;dealerships;ngOnInit(){this.service.getDealerships().subscribe(s=>this.dealerships=s)}onDelete(s){this.service.deleteDealership(s.id).subscribe(()=>this.ngOnInit())}generateUUIDAndNavigate(){this.uuid=y(),this.router.navigate(["/dealerships",this.uuid,"create"])}static \u0275fac=function(e){return new(e||i)(p(L),p(E))};static \u0275cmp=v({type:i,selectors:[["app-dealership-list"]],decls:8,vars:1,consts:[[1,"container"],[1,"vertical-center",3,"click"],[1,"text--justified"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"click"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"button",1),d("click",function(){return l.generateUUIDAndNavigate()}),r(2,"Create new dealership"),t()(),n(3,"article",2)(4,"header")(5,"h2"),r(6,"Dealerships"),t()(),c(7,M,13,1,"table",3),t()),e&2&&(a(7),o("ngIf",l.dealerships))},dependencies:[S,I,C,x,b],styles:[".new_dealership_container[_ngcontent-%COMP%]{height:200px;position:relative;border:3px solid green}.vertical-center[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center;align-items:center}"]})};export{k as DealershipListComponent};
