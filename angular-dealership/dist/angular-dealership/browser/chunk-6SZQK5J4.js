import{a as L}from"./chunk-KH7BRNI5.js";import{a as k}from"./chunk-LOD6BFC4.js";import{B as d,E as s,G as i,H as e,J as g,K as m,L as p,N as r,O as u,V as f,ba as x,ca as U,da as b,ha as I,ja as E,ka as S,ma as D,o as C,p as v,u as o,v as l,x as _}from"./chunk-UUQ4PDQR.js";var w=n=>["/cars",n],R=n=>["/cars",n,"edit"];function F(n,a){if(n&1){let t=g();i(0,"tr")(1,"td"),r(2),e(),i(3,"td"),r(4),e(),i(5,"td")(6,"a",4),r(7,"View"),e()(),i(8,"td")(9,"a",4),r(10,"Edit"),e()(),i(11,"td")(12,"button",2),m("click",function(){let h=C(t).$implicit,N=p(2);return v(N.onDelete(h))}),r(13,"Delete"),e()()()}if(n&2){let t=a.$implicit;o(2),u(t.brandName),o(2),u(t.modelName),o(2),s("routerLink",f(4,w,t.id)),o(3),s("routerLink",f(6,R,t.id))}}function O(n,a){if(n&1&&(i(0,"table")(1,"thead")(2,"tr")(3,"th"),r(4,"Brand Name"),e(),i(5,"th"),r(6,"Model name"),e(),i(7,"th"),r(8,"View"),e(),i(9,"th"),r(10,"Edit"),e(),i(11,"th"),r(12,"Delete"),e()()(),i(13,"tbody"),d(14,F,14,8,"tr",3),e()()),n&2){let t=p();o(14),s("ngForOf",t.cars.cars)}}var y=class n{constructor(a,t,c){this.service=a;this.router=t;this.route=c}dealershipUuid;cars;ngOnInit(){this.dealershipUuid=this.route.snapshot.paramMap.get("dealershipUuid"),this.dealershipUuid?this.service.getCars(this.dealershipUuid).subscribe(a=>{this.cars=a}):console.error("Dealership UUID is missing")}onDelete(a){this.dealershipUuid&&a.id&&this.service.deleteCar(this.dealershipUuid,a.id).subscribe(()=>this.ngOnInit())}generateUUIDAndNavigateCars(){if(this.dealershipUuid){let a=L();this.router.navigate([`/dealerships/${this.dealershipUuid}/cars/${a}/create`])}}static \u0275fac=function(t){return new(t||n)(l(k),l(E),l(I))};static \u0275cmp=_({type:n,selectors:[["app-car-list"]],decls:8,vars:1,consts:[[1,"text--justified"],[4,"ngIf"],[3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,c){t&1&&(i(0,"article",0)(1,"header")(2,"h2"),r(3,"Cars"),e()(),d(4,O,15,1,"table",1),e(),i(5,"div")(6,"button",2),m("click",function(){return c.generateUUIDAndNavigateCars()}),r(7,"Create new car"),e()()),t&2&&(o(4),s("ngIf",c.cars))},dependencies:[D,S,b,x,U],encapsulation:2})};export{y as CarsListComponent};
